import{r as e,o as l,c as a,a as t,h as i,w as o,b as n,d as s,p as r,e as c,f as d,g as u,E as p,i as g,j as m,k as h,l as f}from"./vendor.e0c7df37.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?l.credentials="include":"anonymous"===e.crossorigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const _={setup:t=>(t,i)=>{const o=e("router-view");return l(),a(o)}};var w=(e,l)=>{for(const[a,t]of l)e[a]=t;return e};const b={data:()=>({dataList_URL:"http://lhs.gis.show:5000/api/v1/",dataList:[],ImageDialogVisible:!1,MapDialogVisible:!1}),created(){t.get(this.dataList_URL).then((e=>{this.dataList=e.data}))},mounted(){window.Vue=this},methods:{original_image_button(e){this.dialog_img_url=e,this.ImageDialogVisible=!0},map_button(e,l){this.map_img_url="https://api.map.baidu.com/staticimage/v2?ak=hmy7eqL2XgsOnqDsmgoydP1bLtOtw56x&width=900&height=540&zoom=18&coordtype=wgs84ll&markerStyles=l,,0xFF0000&markers="+e+","+l,this.MapDialogVisible=!0},dateFormat(e,l){var a=Number(e[l.property]);return null==a?"":i(a).format("YYYY-MM-DD HH:mm")}}},v=e=>(r("data-v-ab595bf2"),e=e(),c(),e),y=v((()=>u("svg",{t:"1632956848237",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3306",width:"50",height:"50"},[u("path",{d:"M512 208a101.12 101.12 0 0 1 201.386667-13.013333A170.666667 170.666667 0 0 1 853.333333 362.666667a164.053333 164.053333 0 0 1 0 17.706666 213.333333 213.333333 0 0 1 0 306.133334 157.226667 157.226667 0 0 1 0 17.493333 149.333333 149.333333 0 0 1-136.746666 149.333333A106.666667 106.666667 0 0 1 512 810.666667z",fill:"#A9B8C0","p-id":"3307"}),u("path",{d:"M512 208a101.12 101.12 0 0 0-201.386667-13.013333A170.666667 170.666667 0 0 0 170.666667 362.666667a164.053333 164.053333 0 0 0 0 17.706666 213.333333 213.333333 0 0 0 0 306.133334A157.226667 157.226667 0 0 0 170.666667 704a149.333333 149.333333 0 0 0 136.746666 149.333333A106.666667 106.666667 0 0 0 512 810.666667z",fill:"#C3CED3","p-id":"3308"}),u("path",{d:"M512 704a62.72 62.72 0 0 1-64 64v42.666667a106.666667 106.666667 0 0 0 106.666667-106.666667zM341.333333 405.333333h42.666667a62.72 62.72 0 0 1 64-64v-42.666666a62.72 62.72 0 0 1-64-64h-42.666667a105.386667 105.386667 0 0 0 42.666667 85.333333 105.386667 105.386667 0 0 0-42.666667 85.333333zM426.666667 512h-42.666667c0 45.653333-26.026667 62.72-49.28 64A230.826667 230.826667 0 0 0 234.666667 554.666667v42.666666c76.16 0 126.933333 31.36 150.826666 93.013334l39.68-15.36a181.546667 181.546667 0 0 0-46.08-69.12A102.4 102.4 0 0 0 426.666667 512z",fill:"#A9B8C0","p-id":"3309"}),u("path",{d:"M710.613333 405.333333c-23.253333 0-49.28-18.133333-49.28-64h-42.666666a102.4 102.4 0 0 0 47.573333 93.866667 181.546667 181.546667 0 0 0-46.08 69.12l39.68 15.36C683.733333 458.026667 734.506667 426.666667 810.666667 426.666667v-42.666667a230.826667 230.826667 0 0 0-100.053334 21.333333zM512 490.666667h-42.666667a106.666667 106.666667 0 0 0 106.666667 106.666666v-42.666666a62.72 62.72 0 0 1-64-64zM704 640h-42.666667a62.72 62.72 0 0 1-64 64v42.666667a62.72 62.72 0 0 1 64 64h42.666667a105.386667 105.386667 0 0 0-42.666667-85.333334 105.386667 105.386667 0 0 0 42.666667-85.333333z",fill:"#C3CED3","p-id":"3310"})],-1))),k=d(),L=v((()=>u("a",{class:"menu-title"},"Landscape Brain",-1))),M=v((()=>u("div",{class:"line"},null,-1))),V=v((()=>u("i",{class:"el-icon-s-data"},null,-1))),x=d("数据列表"),C=v((()=>u("i",{class:"el-icon-upload"},null,-1))),D=d("手动上传图片"),z=v((()=>u("i",{class:"el-icon-setting"},null,-1))),A=d("设置"),I=d("原图"),B=d("效果图"),S=v((()=>u("i",{class:"el-icon-coordinate"},null,-1))),E=d("查看位置"),F=v((()=>u("div",{class:"copyright"},[d("©JackieTse "),u("a",{href:"https://github.com/JiehangXie/Landscape_Brain_v2",target:"blank"},"(Github)"),d(" 2021")],-1)));var N=w(b,[["render",function(t,i,r,c,d,u){const p=e("el-menu-item"),g=e("el-menu"),m=e("el-header"),h=e("el-aside"),f=e("el-table-column"),_=e("el-button"),w=e("el-image"),b=e("el-dialog"),v=e("el-alert"),N=e("el-table"),U=e("el-main"),Y=e("el-container"),q=e("el-footer");return l(),a(Y,null,{default:o((()=>[n(m,null,{default:o((()=>[n(g,{"default-active":t.activeIndex,class:"el-menu-demo",mode:"horizontal",onSelect:t.handleSelect},{default:o((()=>[n(p,{index:"1"},{default:o((()=>[y,k,L])),_:1})])),_:1},8,["default-active","onSelect"]),M])),_:1}),n(Y,null,{default:o((()=>[n(h,null,{default:o((()=>[n(g,{"default-active":"1",class:"el-menu-vertical",collapse:!0},{default:o((()=>[n(p,{index:"1"},{title:o((()=>[x])),default:o((()=>[V])),_:1}),n(p,{index:"2"},{title:o((()=>[D])),default:o((()=>[C])),_:1}),n(p,{index:"3",disabled:""},{title:o((()=>[A])),default:o((()=>[z])),_:1})])),_:1})])),_:1}),n(U,null,{default:o((()=>[n(N,{data:d.dataList,style:{width:"100%"}},{default:o((()=>[n(f,{prop:"img_code",label:"图像编码",width:"180",align:"center"}),n(f,{label:"图片",width:"180",align:"center"},{default:o((e=>[n(_,{type:"text",onClick:l=>u.original_image_button(e.row.img_url)},{default:o((()=>[I])),_:2},1032,["onClick"]),n(_,{type:"text",onClick:l=>u.original_image_button(e.row.label_img_url)},{default:o((()=>[B])),_:2},1032,["onClick"]),n(b,{modelValue:d.ImageDialogVisible,"onUpdate:modelValue":i[0]||(i[0]=e=>d.ImageDialogVisible=e),title:"查看图片"},{default:o((()=>[n(w,{src:t.dialog_img_url,fit:t.contain},null,8,["src","fit"])])),_:1},8,["modelValue"])])),_:1}),n(f,{prop:"time",label:"采集时间",formatter:u.dateFormat,width:"150",align:"center"},null,8,["formatter"]),n(f,{prop:"loc_lat",label:"采集坐标",width:"180",align:"center"},{default:o((e=>[n(_,{type:"text",onClick:l=>u.map_button(e.row.loc_lng,e.row.loc_lat)},{default:o((()=>[S,E])),_:2},1032,["onClick"]),n(b,{modelValue:d.MapDialogVisible,"onUpdate:modelValue":i[1]||(i[1]=e=>d.MapDialogVisible=e),title:"查看位置"},{default:o((()=>[n(w,{src:t.map_img_url,fit:t.contain},null,8,["src","fit"])])),_:1},8,["modelValue"])])),_:1}),n(f,{prop:"building",label:"建筑率",width:"90",align:"center"}),n(f,{prop:"green",label:"绿视率",width:"90",align:"center"}),n(f,{prop:"sky",label:"天空比",width:"90",align:"center"}),n(f,{prop:"score",label:"健康景观评分",width:"120",align:"center"}),n(f,{label:"改善建议",fixed:"right",align:"center"},{default:o((e=>[0==e.row.advice?(l(),a(v,{key:0,title:"该景观节点基本符合健康景观标准。",type:"success","show-icon":"",closable:!1})):s("",!0),1==e.row.advice?(l(),a(v,{key:1,title:"该景观节点植物覆盖不足！",type:"warning","show-icon":"",closable:!1})):s("",!0),2==e.row.advice?(l(),a(v,{key:2,title:"该景观节点可能存在采光不足的情况！",type:"warning","show-icon":"",closable:!1})):s("",!0),3==e.row.advice?(l(),a(v,{key:3,title:"该景观节点建筑密度过高！",type:"warning","show-icon":"",closable:!1})):s("",!0),4==e.row.advice?(l(),a(v,{key:4,title:"建议该景观节点增加乔木和提升空间开阔度！",type:"warning","show-icon":"",closable:!1})):s("",!0),5==e.row.advice?(l(),a(v,{key:5,title:"建议该景观节点增加植物覆盖和减少建筑密度！",type:"warning","show-icon":"",closable:!1})):s("",!0),6==e.row.advice?(l(),a(v,{key:6,title:"该景观节点存在建筑密度过高和采光不足的问题！",type:"warning","show-icon":"",closable:!1})):s("",!0),7==e.row.advice?(l(),a(v,{key:7,title:"该景观节点问题突出，建议增加植物、控制建筑密度和改善采光条件！",type:"warning","show-icon":"",closable:!1})):s("",!0)])),_:1})])),_:1},8,["data"])])),_:1})])),_:1}),n(q,null,{default:o((()=>[F])),_:1})])),_:1})}],["__scopeId","data-v-ab595bf2"]]);const U={setup(){},methods:{upload_process(){p("数据上传中……")},upload_error(){p.error("数据上传错误！")},upload_success(){p.success({message:"数据上传成功！",type:"success"}),location.reload()}}},Y=u("div",{id:"background-img"},null,-1);const q=[{path:"/",component:N},{path:"/upload",component:w(U,[["render",function(t,i,n,s,r,c){const d=e("el-upload");return l(),a(d,{class:"upload-image",action:"http://lhs.gis.show:5000/api/upload/v1/","on-progress":c.upload_process,"on-success":c.upload_success,"on-error":c.upload_error,limit:1},{default:o((()=>[Y])),_:1},8,["on-progress","on-success","on-error"])}]])}],O=g({history:m(),routes:q});h(_).use(O).use(f).mount("#app");
